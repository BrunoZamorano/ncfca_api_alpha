<task>
Create Tests for AuthController
</task>

<techspec>
This task is to implement a comprehensive test suite for the `AuthController` and its underlying use cases. The implementation must follow the project's established testing standards, as defined in `test.standards.yml`, including the convention of creating one E2E test file per use case.
</techspec>

### Revised and Detailed Action Plan by Use Case

The approach will be to sequentially implement the tests (unit and E2E) for each use case in the `AuthController`.

---

#### **Use Case 1: `Login`**

1.  **Unit Test (`login.use-case.spec.ts`):**
    *   **Action:** Create the file `src/application/use-cases/login/login.use-case.spec.ts`.
    *   **Structure:** The main `describe` will be `'UNIT Login'`.
    *   **Scenarios:**
        *   `it('Deve retornar tokens quando as credenciais estiverem corretas')`
        *   `it('Deve lançar uma exceção quando o usuário não for encontrado')`
        *   `it('Deve lançar uma exceção quando a senha estiver incorreta')`

2.  **E2E Test (`login.e2e-spec.ts`):**
    *   **Action:** Create the directory `test/auth/` and, inside it, the file `login.e2e-spec.ts`.
    *   **Structure:** The main `describe` will be `'E2E Login'`.
    *   **Scenarios:**
        *   `it('Deve autenticar com credenciais válidas e retornar os tokens')`
        *   `it('Não deve autenticar com senha incorreta')`
        *   `it('Não deve autenticar com email inexistente')`

---

#### **Use Case 2: `RefreshToken`**

1.  **Unit Test (`refresh-token.use-case.spec.ts`):**
    *   **Action:** Create the file `src/application/use-cases/refresh-token/refresh-token.use-case.spec.ts`.
    *   **Structure:** The main `describe` will be `'UNIT RefreshToken'`.
    *   **Scenarios:**
        *   `it('Deve retornar um novo par de tokens para um refresh token válido')`
        *   `it('Deve lançar uma exceção para um refresh token inválido')`

2.  **E2E Test (`refresh-token.e2e-spec.ts`):**
    *   **Action:** Create the file `test/auth/refresh-token.e2e-spec.ts`.
    *   **Structure:** The main `describe` will be `'E2E RefreshToken'`.
    *   **Scenarios:**
        *   `it('Deve gerar um novo par de tokens com um refresh token válido')`
        *   `it('Não deve gerar tokens com um refresh token inválido ou expirado')`

---

#### **Use Case 3: `ValidateToken`**

1.  **Unit Test (`validate-token.use-case.spec.ts`):**
    *   **Action:** Create the file `src/application/use-cases/validate-token/validate-token.use-case.spec.ts`.
    *   **Structure:** The main `describe` will be `'UNIT ValidateToken'`.
    *   **Scenarios:**
        *   `it('Deve retornar o payload para um token válido')`
        *   `it('Deve lançar uma exceção para um token inválido')`

2.  **E2E Test (`validate-token.e2e-spec.ts`):**
    *   **Action:** Create the file `test/auth/validate-token.e2e-spec.ts`.
    *   **Structure:** The main `describe` will be `'E2E ValidateToken'`.
    *   **Scenarios:**
        *   `it('Deve validar um access token ativo e retornar o payload')`
        *   `it('Não deve validar um access token inválido ou expirado')`

---

#### **Use Case 4: `Logout`**

1.  **Unit Test (`logout.use-case.spec.ts`):**
    *   **Action:** Create the file `src/application/use-cases/logout/logout.use-case.spec.ts`.
    *   **Structure:** The main `describe` will be `'UNIT Logout'`.
    *   **Scenarios:**
        *   `it('Deve executar sem lançar erros')`

2.  **E2E Test (`logout.e2e-spec.ts`):**
    *   **Action:** Create the file `test/auth/logout.e2e-spec.ts`.
    *   **Structure:** The main `describe` will be `'E2E Logout'`.
    *   **Scenarios:**
        *   `it('Deve retornar 204 para um usuário autenticado')`
        *   `it('Não deve permitir o acesso sem um token de autenticação')`
