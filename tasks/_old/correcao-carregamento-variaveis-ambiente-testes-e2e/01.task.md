status: pending

# 01 — Instalar e Configurar o `@nestjs/config`

## Objetivo
Introduzir o módulo oficial de configuração do NestJS (`@nestjs/config`) para gerenciar as variáveis de ambiente da aplicação de forma centralizada e explícita.

## Arquivos e Caminhos
- `package.json` (modificar)
- `src/app.module.ts` (modificar)

## Passo a Passo
1.  **Adicionar a dependência:** Abra o terminal na raiz do projeto e execute o seguinte comando:
    ```bash
    pnpm add @nestjs/config
    ```
2.  **Configurar o `ConfigModule`:** Abra o arquivo `src/app.module.ts`.
3.  Importe o `ConfigModule` do pacote `@nestjs/config`.
4.  Adicione o `ConfigModule.forRoot()` no início do array `imports` do `@Module`.
    - Configure-o com as seguintes opções:
      - `isGlobal: true` para que o `ConfigService` esteja disponível em toda a aplicação sem a necessidade de importar o `ConfigModule` em outros módulos.
      - `envFilePath: process.env.NODE_ENV === 'test' ? '.env.test' : '.env'` para carregar o arquivo de ambiente correto com base na variável `NODE_ENV`.

    **Exemplo do código final em `src/app.module.ts`:**
    ```typescript
    import { Module } from '@nestjs/common';
    import { ConfigModule } from '@nestjs/config';
    // ... outros imports

    @Module({
      imports: [
        ConfigModule.forRoot({
          isGlobal: true,
          envFilePath: process.env.NODE_ENV === 'test' ? '.env.test' : '.env',
        }),
        // ... resto dos módulos
      ],
      controllers: [AppController],
      providers: [AppService],
    })
    export class AppModule {}
    ```

## Critérios de Aceite
- O pacote `@nestjs/config` deve estar listado nas `dependencies` do arquivo `package.json`.
- O arquivo `src/app.module.ts` deve importar e configurar o `ConfigModule` conforme especificado.
- A aplicação deve continuar a iniciar corretamente em modo de desenvolvimento (`pnpm run start:dev`) após as alterações.

