status: pending

Título curto
- Matrículas: listar todas e pendentes

Objetivo
- Implementar testes E2E para listagem de matrículas do meu clube e listagem de pendentes por clube, validando ownership e shape.

Arquivos e caminhos (criar/editar)
- Criar: `test/club-management/list-all-enrollments.e2e-spec.ts`
- Criar: `test/club-management/list-pending-enrollments.e2e-spec.ts`

Contratos e estruturas (DTOs/entities/interfaces e campos)
- `GET /club-management/my-club/enrollments` ⇒ `EnrollmentRequestDto[]`.
- `GET /club-management/:clubId/enrollments/pending` ⇒ `ListPendingEnrollmentsOutputDto[]` (inclui `dependantName`).

Regras de negócio e validações
- Apenas o dono do clube pode visualizar suas matrículas.
- `my-club/enrollments` deve buscar o clube pelo `principalId` autenticado; 404 se não houver clube.
- `:clubId/enrollments/pending` exige que o `clubId` pertença ao usuário autenticado; 403 caso contrário.
- Retornar lista vazia quando não houver registros.

Passo a passo
1. Setup: criar dono e clube; criar família afiliada (FamilyStatus.AFFILIATED) com dependente; inserir `enrollmentRequest` no Prisma com status `PENDING|APPROVED|REJECTED` para compor cenários.
2. `list-all-enrollments.e2e-spec.ts`:
   - Caso feliz: 200 e conter todos os requests do clube (independente de status).
   - Sem clube para o usuário: 404.
   - Sem token: 401.
3. `list-pending-enrollments.e2e-spec.ts`:
   - Caso feliz: 200 e retornar apenas pendentes e com `dependantName` populado (validar formato `First Last`).
   - Clube de outro usuário: 403.
   - Sem token: 401.
4. Cleanup cirúrgico com `surgicalCleanup` somente dos `userIds` criados na suíte.

Critérios de aceite (checáveis)
- Asserts em status codes e no conteúdo mínimo (`status`, `clubId`, `familyId`, `dependantId`, e `dependantName` quando pendente).
- Descrições dos testes em PT-BR iniciando com “Deve/Não deve”.

Testes mínimos (âncoras de teste)
- `it('Deve listar todas as matrículas do meu clube', ...)`.
- `it('Não deve listar pendentes de clube que não possuo', ...)`.

Notas de versão/refs do Context7 (curtas)
- Regras: `AI/rules/test.standards.yml` (independência entre testes; cleanup por suíte).

