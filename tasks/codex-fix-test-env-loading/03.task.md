status: pending

# Atualizar script test:e2e para NODE_ENV=test

## Objetivo
Eliminar a dependência da flag `--env-file` e padronizar a seleção de variáveis via `NODE_ENV=test`, para que o `ConfigModule` carregue `.env.test` automaticamente.

## Arquivos e caminhos (criar/editar)
- Editar: `package.json` (campo `scripts.test:e2e`)

## Contratos e estruturas
N/A.

## Regras de negócio e validações
- Remover `node --env-file=.env.test` do script E2E.
- Definir `NODE_ENV=test` antes da execução do Jest, mantendo `--config ./test/jest-e2e.json`.

## Passo a passo
1. Alterar o script para: `"test:e2e": "NODE_ENV=test jest --config ./test/jest-e2e.json"`.
2. Garantir que a execução de E2E não dependa mais de flags do Node para env.

## Critérios de aceite (checáveis)
- Executar `pnpm test:e2e` usa valores de `.env.test` (ex.: `RABBITMQ_URL` local) sem `--env-file`.
- Em ambiente sem `NODE_ENV` explicitado, o script default (`pnpm test`) segue inalterado.

## Testes mínimos (âncoras)
- Rodar `pnpm test:e2e` e observar que `process.env.RABBITMQ_URL` reflete `.env.test` (pode-se adicionar `console.log` temporário nos testes para validar localmente, depois remover).

## Notas de versão/refs do Context7
- Abordagem alinhada ao NestJS + `@nestjs/config` v3.

