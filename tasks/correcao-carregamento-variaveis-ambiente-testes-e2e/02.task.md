status: pending

# 02 — Refatorar `main.ts` para Utilizar o `ConfigService`

## Objetivo
Refatorar o arquivo de inicialização da aplicação (`main.ts`) para obter variáveis de ambiente através do `ConfigService`, em vez de acessar `process.env` diretamente. Isso garante que a configuração carregada pelo `ConfigModule` seja a fonte da verdade.

## Arquivos e Caminhos
- `src/main.ts` (modificar)

## Passo a Passo
1.  Abra o arquivo `src/main.ts`.
2.  Importe o `ConfigService` do pacote `@nestjs/config`.
3.  Logo após a criação da instância da aplicação (`const app = await NestFactory.create(...)`), obtenha uma referência ao `ConfigService` usando `app.get()`.
    ```typescript
    const configService = app.get(ConfigService);
    ```
4.  Substitua todas as ocorrências de `process.env.VARIAVEL` pelas chamadas correspondentes `configService.get('VARIAVEL')`.
    - `process.env.RABBITMQ_URL` -> `configService.get<string>('RABBITMQ_URL')`
    - `process.env.CORS_ORIGIN` -> `configService.get<string>('CORS_ORIGIN')`
    - `process.env.PORT` -> `configService.get<number>('PORT')`

## Critérios de Aceite
- O arquivo `src/main.ts` não deve mais conter acessos diretos a `process.env.RABBITMQ_URL`, `process.env.CORS_ORIGIN` ou `process.env.PORT`.
- O `ConfigService` deve ser importado e utilizado para obter essas variáveis.
- A aplicação deve iniciar normalmente (`pnpm run start:dev`) e escutar na porta definida no arquivo `.env`.

