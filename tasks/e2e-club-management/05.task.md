status: pending

Título curto
- Membros: listar e revogar afiliação

Objetivo
- Implementar testes E2E para listar membros ativos do meu clube e revogar afiliação de um membro (membership revoke), cobrindo sucesso e cenários negativos.

Arquivos e caminhos (criar/editar)
- Criar: `test/club-management/list-members.e2e-spec.ts`
- Criar: `test/club-management/revoke-membership.e2e-spec.ts`

Contratos e estruturas (DTOs/entities/interfaces e campos)
- `GET /club-management/my-club/members` ⇒ `ClubMemberDto[]` (`src/domain/dtos/club-member.dto.ts`), incluindo dados do dependente e `holder`.
- `POST /club-management/membership/:membershipId/revoke` ⇒ 204; domínio espera `MembershipStatus.REVOKED` na entidade correspondente.

Regras de negócio e validações
- Apenas o dono do clube pode listar e revogar membros do seu clube.
- Listagem retorna somente membros `ACTIVE`; vazio quando não houver.
- Revogação: `membershipId` deve existir; deve pertencer ao clube do dono; deve estar `ACTIVE` para ser revogada; caso contrário 404/403/422 respectivamente.

Passo a passo
1. Setup: criar dono e clube; criar família `AFFILIATED` com dependente; criar `ClubMembership` `ACTIVE` vinculado ao clube/dep/família.
2. `list-members.e2e-spec.ts`:
   - Caso feliz: 200 e conter membro com campos mínimos (`id`, `firstName`, `lastName`, `holder{ id, email }`, `memberSince`).
   - Sem membros: 200 com array vazio.
   - Clube de outro usuário: 403.
   - Sem token: 401.
3. `revoke-membership.e2e-spec.ts`:
   - Caso feliz: 204; assert no Prisma que `membership.status === REVOKED`.
   - Membership inexistente: 404.
   - Membership de outro clube: 403.
   - Membership já revogada: 422.
   - Sem token: 401.
4. Cleanup cirúrgico ao final.

Critérios de aceite (checáveis)
- Asserts em status e persistência em banco após revogação.
- Nomes dos testes conforme padrão (Português, “Deve/Não deve”, foco na regra).

Testes mínimos (âncoras de teste)
- `it('Deve listar membros ativos do meu clube', ...)`.
- `it('Deve revogar a afiliação de um membro ativo', ...)`.

Notas de versão/refs do Context7 (curtas)
- Regras: `AI/rules/test.standards.yml`.

